using re

func 提取简报(文件名) {
  try 文件=open(文件名, 'r') {
    简报开始 = false
    简报表 = {:}
    for 行 in 文件 {
      行内容 = 行.strip()
      // println(行内容)
      if !简报开始 { 简报开始 = true if 行内容 == '---' }
      else {
        if 行内容 == '---' { return 简报表 }
        else {
          // TODO: 正确处理此行 date:   2015-02-19 02:12:10 +0800
          分段 = re.search("(\w+):\s+(.+)", 行内容)
          简报表[分段.group(1)] = 分段.group(2).strip() if 分段
        }
      }
    }
  }
}
/*
文件名 = "原型/测试/test1.md"
print(提取简报(文件名))
*/